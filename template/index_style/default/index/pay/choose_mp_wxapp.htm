<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/> 
    <title>微信支付</title>
 <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script> 
    <script type="text/javascript">
	function callpay()
	{
		if (window.self != window.top){	//微信支付不能在框架中运行
			window.top.location.href = window.location.href;
		}else{
			var url = window.location.href+'&client_type=';
			wx.miniProgram.getEnv(function(res) {
				if(res.miniprogram==true){
					url += 'wxapp';
				}else{
					url += 'mp';
				}
				window.location.href = url;
			});
		}
	}
	</script>
</head>
<body onload="callpay()">
    <center>页面自动跳转中,请稍候...</center>
</body>
</html>